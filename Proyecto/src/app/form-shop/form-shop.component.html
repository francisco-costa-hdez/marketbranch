<div class="my-account featured-product product">
    <div class="section-header container-fluid pl-5">
        <div class="row align-items-end"> 
            <div class="col-12"><h1 class="row ">&nbsp;Registro de Vendedor(Usuario-Tienda)</h1></div>
        </div>
        
    </div>
    </div>

    <div class="container-fluid d-flex justify-content-center">
      <div class="card col-12 col-md-8 col-lg-6 ">
        <div class="card-body my-3">
<form  (ngSubmit)="onSubmit()" class="needs-validation" [formGroup]="shopUserForm" novalidate>
    
    <div class="form-group">
        <label for="name">Nombre</label>
        <input type="text" name="name" id="name" class="form-control" formControlName="name" required>
        <div class="invalid-feedback" *ngIf="shopUserForm.get('name').hasError('required')">
          Error, no has introducido el nombre
        </div>
      </div>
      <div class="form-group">
        <label for="nif">NIF</label>
        <input type="text" name="nif" id ="nif" class="form-control" 
        pattern="(([X-Z]{1})([-]?)(\d{7})([-]?)([A-Z]{1}))|((\d{8})([-]?)([A-Z]{1}))"
        formControlName="nif" (change)="this.nifExists=false" required>
        <div class="invalid-feedback" *ngIf="shopUserForm.get('nif').hasError('required'); else nifBad">
          Error, no has introducido el nif
        </div>
        <ng-template #nifBad>
          <div class="invalid-feedback" *ngIf="shopUserForm.get('nif').hasError('pattern'); else nifGood">
            Error, no has introducido el nif correctamente
          </div>
        </ng-template>
        <ng-template #nifGood>
          <div class="valid-feedback">
            El patrón del nif es correcto
          </div>
        </ng-template>
        <div  *ngIf="this.nifExists==true">
          <small style="color:#E05555">{{this.errorNif}}</small>
        </div>
      </div>
        <div class="form-group">
          <label for="email">Email</label>
          <input type="email" class="form-control" name="email" id="email" formControlName="email" aria-describedby="emailHelp" 
          (change)="this.emailExists=false"  placeholder="micorreo@mail.com" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$" required>
          <div class="invalid-feedback" *ngIf="shopUserForm.get('email').hasError('required'); else emailBad">
            Error, no has introducido el email
          </div>
          <ng-template #emailBad>
            <div class="invalid-feedback" *ngIf="shopUserForm.get('email').hasError('pattern'); else emailGood">
              Error, no has introducido el email correctamente
            </div>
          </ng-template>
          <ng-template #emailGood>
            <div class="valid-feedback">
              El patrón del email es correcto
            </div>
          </ng-template>
          <div  *ngIf="this.emailExists==true">
            <small style="color:#E05555">{{this.errorEmail}}</small>
          </div>
        </div>
        <div class="form-group">
            <label for="profile_img">Seleccione imagen de perfil</label>
            <input type="file" class="form-control-file" name="profile_img" formControlName="profile_img" id="profile_img">
            <div  *ngIf="this.imgExists==true">
              <small style="color:#E05555">{{this.errorImg}}</small>
            </div>
          </div>
        <div class="form-group">
          <label for="password">Contraseña</label>
          <input type="password" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,18}" class="form-control" id="password" name="password" formControlName="password" required>
          <div class="invalid-feedback" *ngIf="shopUserForm.get('password').hasError('required'); else passBad">
            Error, debes introducir una contraseña
          </div>
          <ng-template #passBad>
            <div class="invalid-feedback" *ngIf="shopUserForm.get('password').hasError('pattern');else passGood">
              Error, debes introducir mayúsculas, minúsculas y números entre 8 y 18 carácteres
            </div>
          </ng-template>
          <ng-template #passGood>
            <div class="valid-feedback">
              El patrón de contraseña es correcto
            </div>
          </ng-template>
          <label for="password2">Repita Contraseña</label>
          <input type="password" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,18}" class="form-control" id="password2" name="password2" formControlName="password2" required>
          <div class="invalid-feedback" *ngIf="shopUserForm.get('password2').hasError('required'); else passBad2" >
            Error, no has introducido la repetición de contraseña
          </div>
          <ng-template #passBad2>
            <div class="invalid-feedback" *ngIf="shopUserForm.get('password2').hasError('pattern'); else passGood2">
              Error, debes introducir mayúsculas, minúsculas y números entre 8 y 18 carácteres
            </div>
          </ng-template>
          <ng-template #passGood2>
            <div class="valid-feedback">
              El patrón de contraseña es correcto
            </div>
          </ng-template>
          <div  *ngIf="!(this.shopUserForm.get('password2').value==this.shopUserForm.get('password').value)">
            <small style="color:#E05555">Las contraseñas no coinciden</small>
          </div>
          <small class="form-text text-muted">No compartas tu contraseña con terceros.</small>
        </div>
        <div class="form-check">
          <input type="checkbox" class="form-check-input" id="check1" name="check1" formControlName="check1" required>
          <label class="form-check-label" for="Check1">Acepto los <a href="">términos y condiciones</a> de la web</label>
        </div>
        <button type="submit" class="btn btn-primary" style="margin-top:5%;">Registrarse</button>
      
    </form>
  </div>
</div>
</div>